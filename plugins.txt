# vim:set et sw=2 ts=2 tw=80 ft=conf:

# zsh-defer MUST be first - allows deferring other plugins
romkatv/zsh-defer

# evalcache - needed early for caching zoxide/fzf
mroth/evalcache

# Defer ohmyzsh libs - not needed until after prompt
ohmyzsh/ohmyzsh path:lib/clipboard.zsh    kind:defer
ohmyzsh/ohmyzsh path:lib/directories.zsh
ohmyzsh/ohmyzsh path:lib/history.zsh      kind:defer
ohmyzsh/ohmyzsh path:lib/key-bindings.zsh kind:defer

# NOTE: Removed ohmyzsh/lib/completion.zsh - redundant with belak/zsh-utils
# It only sets zstyles (which belak also handles) and runs bashcompinit

# Deferred plugins - loaded after prompt is shown
ohmyzsh/ohmyzsh path:plugins/colored-man-pages kind:defer
ohmyzsh/ohmyzsh path:plugins/git               kind:defer
ohmyzsh/ohmyzsh path:plugins/docker            kind:defer

# Defer autosuggestions - not needed until typing
zsh-users/zsh-autosuggestions kind:defer

# completions - fpath only, no code execution (point to src/ for actual completions)
zsh-users/zsh-completions path:src kind:fpath

# tab completion with fzf - defer since not needed until first tab
Aloxaf/fzf-tab kind:defer

# config and run compinit - defer to after prompt
belak/zsh-utils path:completion kind:defer

# manually gradle completion, since we're using mise instead of sdkman
gradle/gradle-completion kind:fpath

