#!/bin/bash
# vim: syntax=sh
# Custom key binding

# Set emacs mode immediately
bindkey -e

# Basic bindings - these are fast, no need to defer
bindkey -s "^k" "| vim -RM -^m"
bindkey -s "^]" "^e | clipcopy^m"

# Autosuggestion accept (available after zsh-autosuggestions loads via zsh-defer)
bindkey "^ " "autosuggest-accept"

# Edit command line - defer the autoload but bind immediately
# The binding will work once the deferred autoload completes
autoload -Uz edit-command-line
zle -N edit-command-line
bindkey '^xe' edit-command-line
bindkey '^x^e' edit-command-line

